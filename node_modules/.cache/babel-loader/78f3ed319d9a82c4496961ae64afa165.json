{"ast":null,"code":"import _objectSpread from\"/Users/anastasia/Documents/React-BC-22/goit-react-hw7-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import contactsActions from\"../contact/contact-actions\";import axios from\"axios\";var addContact=function addContact(name,number){return function(dispatch){dispatch(contactsActions.addContactRequest());//fetch(\"http://localhost:2000/contacts\");\n// console.log(\"contact\", contact);\naxios.post(\"https://react7-b91fe.firebaseio.com/contacts.json\",{name:name,number:number}).then(function(response){console.log(\"resrtduytfuy\",response.data);dispatch(contactsActions.addContactSuccess({name:name,number:number,id:response.data.name}));}).catch(function(error){return dispatch(contactsActions.addContactError(error));});};};var fetchContacts=function fetchContacts(){return function(dispatch){dispatch(contactsActions.fetchContactsRequest());axios.get(\"https://react7-b91fe.firebaseio.com/contacts.json\").then(function(_ref){var data=_ref.data;console.log(\"data\",data);var keys=Object.keys(data);var newData=keys.reduce(function(acc,key){acc.push(_objectSpread({id:key},data[key]));return acc;},[]);console.log(\"newData\",newData);dispatch(contactsActions.fetchContactsSuccess(newData));})// })\n.catch(function(error){return dispatch(contactsActions.fetchContactsError(error));});};};var removeContact=function removeContact(id){return function(dispatch){dispatch(contactsActions.removeContactRequest());axios.delete(\"https://react7-b91fe.firebaseio.com/contacts/\".concat(id,\".json\")).then(function(){return dispatch(contactsActions.removeContactSuccess(id));}).catch(function(error){return dispatch(contactsActions.removeContactError(error));});};};export default{addContact:addContact,fetchContacts:fetchContacts,removeContact:removeContact};","map":{"version":3,"sources":["/Users/anastasia/Documents/React-BC-22/goit-react-hw7-2/src/redux/contactsOperations/contactsOperation.js"],"names":["contactsActions","axios","addContact","name","number","dispatch","addContactRequest","post","then","response","console","log","data","addContactSuccess","id","catch","error","addContactError","fetchContacts","fetchContactsRequest","get","keys","Object","newData","reduce","acc","key","push","fetchContactsSuccess","fetchContactsError","removeContact","removeContactRequest","delete","removeContactSuccess","removeContactError"],"mappings":"6KAAA,MAAOA,CAAAA,eAAP,KAA4B,4BAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAOC,MAAP,QAAkB,UAACC,QAAD,CAAc,CACjDA,QAAQ,CAACL,eAAe,CAACM,iBAAhB,EAAD,CAAR,CACA;AACA;AACAL,KAAK,CACFM,IADH,CACQ,mDADR,CAC6D,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,MAAM,CAANA,MAAR,CAD7D,EAEGI,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BF,QAAQ,CAACG,IAArC,EACAP,QAAQ,CACNL,eAAe,CAACa,iBAAhB,CAAkC,CAChCV,IAAI,CAAJA,IADgC,CAEhCC,MAAM,CAANA,MAFgC,CAGhCU,EAAE,CAAEL,QAAQ,CAACG,IAAT,CAAcT,IAHc,CAAlC,CADM,CAAR,CAOD,CAXH,EAYGY,KAZH,CAYS,SAACC,KAAD,QAAWX,CAAAA,QAAQ,CAACL,eAAe,CAACiB,eAAhB,CAAgCD,KAAhC,CAAD,CAAnB,EAZT,EAaD,CAjBkB,EAAnB,CAmBA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,SAAM,UAACb,QAAD,CAAc,CACxCA,QAAQ,CAACL,eAAe,CAACmB,oBAAhB,EAAD,CAAR,CACAlB,KAAK,CACFmB,GADH,CACO,mDADP,EAEGZ,IAFH,CAEQ,cAAc,IAAXI,CAAAA,IAAW,MAAXA,IAAW,CAClBF,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBC,IAApB,EAEA,GAAMS,CAAAA,IAAI,CAAGC,MAAM,CAACD,IAAP,CAAYT,IAAZ,CAAb,CACA,GAAMW,CAAAA,OAAO,CAAGF,IAAI,CAACG,MAAL,CAAY,SAACC,GAAD,CAAMC,GAAN,CAAc,CACxCD,GAAG,CAACE,IAAJ,gBAAWb,EAAE,CAAEY,GAAf,EAAuBd,IAAI,CAACc,GAAD,CAA3B,GACA,MAAOD,CAAAA,GAAP,CACD,CAHe,CAGb,EAHa,CAAhB,CAIAf,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBY,OAAvB,EACAlB,QAAQ,CAACL,eAAe,CAAC4B,oBAAhB,CAAqCL,OAArC,CAAD,CAAR,CACD,CAZH,CAaE;AAbF,CAcGR,KAdH,CAcS,SAACC,KAAD,QAAWX,CAAAA,QAAQ,CAACL,eAAe,CAAC6B,kBAAhB,CAAmCb,KAAnC,CAAD,CAAnB,EAdT,EAeD,CAjBqB,EAAtB,CAmBA,GAAMc,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAChB,EAAD,QAAQ,UAACT,QAAD,CAAc,CAC1CA,QAAQ,CAACL,eAAe,CAAC+B,oBAAhB,EAAD,CAAR,CACA9B,KAAK,CACF+B,MADH,wDAC0DlB,EAD1D,WAEGN,IAFH,CAEQ,iBAAMH,CAAAA,QAAQ,CAACL,eAAe,CAACiC,oBAAhB,CAAqCnB,EAArC,CAAD,CAAd,EAFR,EAGGC,KAHH,CAGS,SAACC,KAAD,QAAWX,CAAAA,QAAQ,CAACL,eAAe,CAACkC,kBAAhB,CAAmClB,KAAnC,CAAD,CAAnB,EAHT,EAID,CANqB,EAAtB,CAOA,cAAe,CACbd,UAAU,CAAVA,UADa,CAEbgB,aAAa,CAAbA,aAFa,CAGbY,aAAa,CAAbA,aAHa,CAAf","sourcesContent":["import contactsActions from \"../contact/contact-actions\";\nimport axios from \"axios\";\n\nconst addContact = (name, number) => (dispatch) => {\n  dispatch(contactsActions.addContactRequest());\n  //fetch(\"http://localhost:2000/contacts\");\n  // console.log(\"contact\", contact);\n  axios\n    .post(\"https://react7-b91fe.firebaseio.com/contacts.json\", { name, number })\n    .then((response) => {\n      console.log(\"resrtduytfuy\", response.data);\n      dispatch(\n        contactsActions.addContactSuccess({\n          name,\n          number,\n          id: response.data.name,\n        })\n      );\n    })\n    .catch((error) => dispatch(contactsActions.addContactError(error)));\n};\n\nconst fetchContacts = () => (dispatch) => {\n  dispatch(contactsActions.fetchContactsRequest());\n  axios\n    .get(\"https://react7-b91fe.firebaseio.com/contacts.json\")\n    .then(({ data }) => {\n      console.log(\"data\", data);\n\n      const keys = Object.keys(data);\n      const newData = keys.reduce((acc, key) => {\n        acc.push({ id: key, ...data[key] });\n        return acc;\n      }, []);\n      console.log(\"newData\", newData);\n      dispatch(contactsActions.fetchContactsSuccess(newData));\n    })\n    // })\n    .catch((error) => dispatch(contactsActions.fetchContactsError(error)));\n};\n\nconst removeContact = (id) => (dispatch) => {\n  dispatch(contactsActions.removeContactRequest());\n  axios\n    .delete(`https://react7-b91fe.firebaseio.com/contacts/${id}.json`)\n    .then(() => dispatch(contactsActions.removeContactSuccess(id)))\n    .catch((error) => dispatch(contactsActions.removeContactError(error)));\n};\nexport default {\n  addContact,\n  fetchContacts,\n  removeContact,\n};\n"]},"metadata":{},"sourceType":"module"}